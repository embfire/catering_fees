<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taxes and fees - Catering Configuration</title>
    <link rel="stylesheet" href="https://unpkg.com/@phosphor-icons/web@2.1.1/src/regular/style.css">
    <link rel="stylesheet" href="taxes-styles.css">
</head>
<body>
    <!-- Header -->
    <header class="main-header">
        <!-- Brand Selector -->
        <div class="brand-selector">
            <div class="brand-logo">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="PAR Brand Logo">
                    <rect width="32" height="32" rx="2" fill="#303451"/>
                    <path d="M16.2443 17.8004H13.9324L16.2443 14.4925V17.8004ZM8.17113 15.5551H6.88119V12.7532H8.05962C9.39781 12.7532 9.98649 13.1832 9.98649 14.1386C9.98649 15.1422 9.38173 15.5561 8.17113 15.5561M12.7712 15.1133C12.8377 14.7841 12.8688 14.4399 12.8688 14.0904C12.8688 12.498 12.0721 11.1448 10.7982 10.5561C10.1774 10.2688 9.23804 10.094 7.98027 10.1101H4V21.8922H6.88119V18.1982H8.28265C9.46322 18.1982 10.3779 17.9623 11.0695 17.5634L8.06391 21.8911H11.092L12.2747 20.1873H16.2443V21.8911H19.1287V10.109H16.2464L12.7712 15.1122V15.1133Z" fill="#F4F5FA"/>
                    <path d="M24.4165 15.8767C24.2181 15.9529 24.0605 15.999 23.7989 16.014C23.3014 16.0483 22.3599 16.0301 22.3599 16.0301V12.75H23.5169C23.8493 12.75 24.1774 12.7972 24.4851 12.928C24.7875 13.0577 25.0395 13.2615 25.2057 13.5499C25.3204 13.7483 25.3783 13.9649 25.3955 14.1933C25.4159 14.4474 25.3912 14.7004 25.3172 14.9439C25.1778 15.4039 24.8594 15.7062 24.4154 15.8757M25.3526 17.8776L25.4191 17.8647C26.071 17.7371 26.649 17.4573 27.1337 17.0005C27.5465 16.6112 27.8403 16.1437 28.0311 15.6108C28.148 15.287 28.2274 14.9535 28.2595 14.6114C28.3249 13.9037 28.2392 13.2003 27.9743 12.5355C27.6912 11.8321 27.242 11.2477 26.6147 10.8156C26.2758 10.5851 25.9177 10.4371 25.5274 10.3384C25.1725 10.2494 24.8476 10.184 24.439 10.139C24.1313 10.1079 23.7946 10.1079 23.7946 10.1079H19.4766V21.89H22.3588V18.0406L25.1135 21.89L28.3625 21.8922L25.3526 17.8776Z" fill="#F4F5FA"/>
                    <path d="M28.3618 11.3892C28.2728 11.3892 28.1892 11.3731 28.112 11.3399C28.0348 11.3067 27.9662 11.2606 27.9083 11.2027C27.8493 11.1437 27.8042 11.0761 27.771 10.9989C27.7378 10.9217 27.7217 10.8381 27.7217 10.7491C27.7217 10.6601 27.7378 10.5786 27.771 10.5014C27.8042 10.4242 27.8493 10.3566 27.9083 10.2977C27.9672 10.2387 28.0348 10.1936 28.112 10.1604C28.1892 10.1272 28.2728 10.1111 28.3618 10.1111C28.4508 10.1111 28.5323 10.1272 28.6095 10.1604C28.6867 10.1936 28.7543 10.2398 28.8133 10.2977C28.8722 10.3566 28.9183 10.4242 28.9505 10.5014C28.9837 10.5786 28.9998 10.6612 28.9998 10.7491C28.9998 10.837 28.9837 10.9206 28.9505 10.9989C28.9173 11.0761 28.8712 11.1448 28.8133 11.2027C28.7554 11.2616 28.6867 11.3067 28.6095 11.3399C28.5323 11.3731 28.4498 11.3892 28.3618 11.3892ZM28.3618 11.2734C28.4583 11.2734 28.5463 11.2498 28.6245 11.2027C28.7039 11.1555 28.7671 11.0922 28.8133 11.0129C28.8604 10.9335 28.883 10.8456 28.883 10.748C28.883 10.6504 28.8594 10.5647 28.8133 10.4853C28.7671 10.406 28.7039 10.3438 28.6245 10.2966C28.5452 10.2494 28.4573 10.2258 28.3618 10.2258C28.2664 10.2258 28.1763 10.2494 28.097 10.2966C28.0176 10.3438 27.9544 10.407 27.9072 10.4853C27.86 10.5647 27.8364 10.6515 27.8364 10.748C27.8364 10.8445 27.86 10.9335 27.9072 11.0129C27.9544 11.0922 28.0176 11.1555 28.097 11.2027C28.1763 11.2498 28.2642 11.2734 28.3618 11.2734ZM28.1399 11.059V10.4263H28.4208C28.4744 10.4263 28.5227 10.4467 28.5645 10.4864C28.6063 10.5271 28.6267 10.5743 28.6267 10.629C28.6267 10.6644 28.616 10.7008 28.5945 10.7351C28.5731 10.7695 28.543 10.7963 28.5055 10.8123L28.6267 11.0568H28.5141L28.4036 10.8317H28.2385V11.0568H28.1399V11.059ZM28.2385 10.7405H28.4176C28.4455 10.7405 28.4701 10.7298 28.4916 10.7083C28.513 10.6869 28.5248 10.6612 28.5248 10.6311C28.5248 10.5979 28.513 10.5722 28.4894 10.5518C28.4648 10.5314 28.4412 10.5218 28.4176 10.5218H28.2385V10.7416V10.7405Z" fill="#F4F5FA"/>
                </svg>
            </div>
            <div class="brand-info">
                <div class="brand-label">PAR ORDERING</div>
                <div class="brand-name">All Stores</div>
            </div>
            <div class="dropdown-icon" aria-hidden="true">
                <i class="ph ph-caret-down icon-16"></i>
            </div>
        </div>

        <!-- Header Icons -->
        <div class="header-icons">
            <button class="icon-button" aria-label="Notifications">
                <i class="ph ph-bell icon-24" aria-hidden="true"></i>
            </button>
            <button class="icon-button" aria-label="Help">
                <i class="ph ph-question icon-24" aria-hidden="true"></i>
            </button>
            <button class="icon-button" aria-label="User">
                <i class="ph ph-user icon-24" aria-hidden="true"></i>
            </button>
            <button class="icon-button" aria-label="Apps">
                <i class="ph ph-dots-nine icon-24" aria-hidden="true"></i>
            </button>
        </div>
    </header>

    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <nav class="sidebar-nav">
            <a href="#" class="nav-item">
                <i class="ph ph-chart-line nav-icon" aria-hidden="true"></i>
                <span>Analytics</span>
            </a>
            <a href="#" class="nav-item">
                <i class="ph ph-fork-knife nav-icon" aria-hidden="true"></i>
                <span>Menu</span>
            </a>
            <a href="#" class="nav-item">
                <i class="ph ph-moped-front nav-icon" aria-hidden="true"></i>
                <span>Delivery</span>
            </a>
            <a href="#" class="nav-item">
                <i class="ph ph-link nav-icon" aria-hidden="true"></i>
                <span>Link</span>
            </a>
            <a href="#" class="nav-item">
                <i class="ph ph-megaphone nav-icon" aria-hidden="true"></i>
                <span>Marketing</span>
            </a>
            <a href="#" class="nav-item">
                <i class="ph ph-gauge nav-icon" aria-hidden="true"></i>
                <span>Capacity</span>
            </a>
            <a href="#" class="nav-item">
                <i class="ph ph-users nav-icon" aria-hidden="true"></i>
                <span>CRM</span>
            </a>
            <a href="#" class="nav-item">
                <i class="ph ph-receipt nav-icon" aria-hidden="true"></i>
                <span>Orders</span>
            </a>
            <a href="#" class="nav-item">
                <i class="ph ph-headset nav-icon" aria-hidden="true"></i>
                <span>Order Desk</span>
            </a>
            <a href="#" class="nav-item active">
                <i class="ph ph-gear nav-icon" aria-hidden="true"></i>
                <span>Configurations</span>
            </a>
        </nav>
    </aside>

    <div class="snackbar" id="fee-snackbar" role="status" aria-live="polite">
        <span class="snackbar-icon" aria-hidden="true">
            <svg width="22" height="22" viewBox="0 0 22 22" focusable="false" xmlns="http://www.w3.org/2000/svg">
                <ellipse cx="11" cy="11" rx="8.00003" ry="8" fill="#44AB0B"/>
                <path d="M13.6721 7.58953C13.8988 7.24284 14.3636 7.14556 14.7103 7.37224C15.0254 7.57831 15.1345 7.98118 14.9814 8.31319L14.9276 8.4104L10.6776 14.9104C10.4289 15.2907 9.91 15.3585 9.57265 15.0788L9.49235 15.0017L7.24234 12.5017C6.96525 12.1938 6.9902 11.7196 7.29809 11.4425C7.57798 11.1906 7.99534 11.1883 8.2771 11.4213L8.35729 11.4982L9.95482 13.274L13.6721 7.58953Z" fill="white"/>
            </svg>
        </span>
        <span class="snackbar-message">Snackbar message</span>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Breadcrumb -->
        <div class="breadcrumb">
            <span class="breadcrumb-item">Configurations</span>
            <i class="ph ph-caret-right breadcrumb-arrow" aria-hidden="true"></i>
            <span class="breadcrumb-item active">Tax Configuration</span>
        </div>

        <!-- Page Title -->
        <div class="page-title-row">
            <h1 class="page-title">Taxes and fees</h1>
            <button class="btn-secondary" id="preview-fees-button" type="button">Preview catering fees</button>
        </div>

        <!-- Tabs -->
        <div class="tabs">
            <button class="tab">Taxes</button>
            <button class="tab">Custom fees</button>
            <button class="tab tab-active">Catering fees</button>
        </div>

        <!-- Guest Count and Full-Service Fee Section -->
        <section class="section">
            <h2 class="section-title">Volume and service fees</h2>

            <div class="cards-grid">
                <!-- Guest Count Fee Card -->
                <div class="card">
                    <div class="card-content">
                        <div class="card-icon">
                            <i class="ph ph-users icon-24" aria-hidden="true"></i>
                        </div>
                        <div class="card-info">
                            <h3 class="card-title">Guest count fee</h3>
                            <p class="card-description">Scale fees based on the number of guests</p>
                        </div>
                    </div>
                    <div class="card-divider"></div>
                    <div class="card-footer">
                        <div class="status-tag status-inactive" id="guest-count-status">
                            <span class="status-dot" aria-hidden="true"></span>
                            <span>INACTIVE</span>
                        </div>
                        <button class="btn-text" data-action="guest-count" id="guest-count-action">Manage</button>
                    </div>
                </div>

                <!-- Full-Service Fee Card -->
                <div class="card">
                    <div class="card-content">
                        <div class="card-icon">
                            <i class="ph ph-martini icon-24" aria-hidden="true"></i>
                        </div>
                        <div class="card-info">
                            <h3 class="card-title">Full-service fee</h3>
                            <p class="card-description">Offer bundled service or charge per component</p>
                        </div>
                    </div>
                    <div class="card-divider"></div>
                    <div class="card-footer">
                        <div class="status-tag status-inactive" id="full-service-status">
                            <span class="status-dot" aria-hidden="true"></span>
                            <span>INACTIVE</span>
                        </div>
                        <button class="btn-text" data-action="full-service" id="full-service-action">Configure</button>
                    </div>
                </div>

                <!-- Order Amount Fee Card -->
                <div class="card">
                    <div class="card-content">
                        <div class="card-icon">
                            <i class="ph ph-currency-dollar icon-24" aria-hidden="true"></i>
                        </div>
                        <div class="card-info">
                            <h3 class="card-title">Order amount fee</h3>
                            <p class="card-description">Scale fees based on the order subtotal</p>
                        </div>
                    </div>
                    <div class="card-divider"></div>
                    <div class="card-footer">
                        <div class="status-tag status-inactive" id="order-amount-status">
                            <span class="status-dot" aria-hidden="true"></span>
                            <span>INACTIVE</span>
                        </div>
                        <button class="btn-text" data-action="order-amount" id="order-amount-action">Configure</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Event Type Fees Section -->
        <section class="section">
            <div class="section-header">
                <h2 class="section-title">Event type fees</h2>
                <button class="btn-primary">
                    <i class="ph ph-plus btn-icon" aria-hidden="true"></i>
                    Add event type fee
                </button>
            </div>

            <!-- Event Type Fees Table -->
            <div class="table-container">
                <table class="fees-table">
                    <thead>
                        <tr>
                            <th>EVENT TYPE</th>
                            <th>CALCULATION</th>
                            <th>FEE AMOUNT</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody id="event-type-table-body"></tbody>
                </table>
                <p class="table-empty" id="event-type-empty" hidden>No event type fees added yet.</p>
            </div>
        </section>

    </main>

    <div class="modal-backdrop preview-fees-modal" id="preview-fees-modal" aria-hidden="true">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Preview catering fees</h2>
                <button class="modal-close" type="button" id="preview-fees-close" aria-label="Close">
                    <i class="ph ph-x icon-16" aria-hidden="true"></i>
                </button>
            </div>
            <form class="modal-body" id="preview-fees-form">
                <div class="modal-row">
                    <label class="modal-label" for="preview-subtotal">Subtotal</label>
                    <div class="input-wrapper">
                        <div class="input-field">
                            <span class="input-prefix">$</span>
                            <input class="text-input" id="preview-subtotal" name="subtotal" type="text" inputmode="decimal" autocomplete="off" placeholder="0.00">
                        </div>
                        <p class="modal-error" id="preview-subtotal-error" role="alert"></p>
                    </div>
                </div>
                <div class="modal-row">
                    <label class="modal-label" for="preview-guest-count">Guest count</label>
                    <div class="input-wrapper">
                        <div class="input-field">
                            <input class="text-input" id="preview-guest-count" name="guestCount" type="number" min="0" step="1" inputmode="numeric" placeholder="0">
                        </div>
                        <p class="modal-error" id="preview-guest-count-error" role="alert"></p>
                    </div>
                </div>
                <div class="modal-row">
                    <label class="modal-label" for="preview-event-type">Event type</label>
                    <div class="input-wrapper">
                        <div class="input-field select-field">
                            <select class="select-input" id="preview-event-type" name="eventType"></select>
                            <div class="select-actions">
                                <span class="select-caret" aria-hidden="true">
                                    <i class="ph ph-caret-down icon-16"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-row">
                    <label class="modal-checkbox-row" for="preview-full-service-toggle">
                        <input class="modal-checkbox" id="preview-full-service-toggle" type="checkbox">
                        I want a Full-service
                    </label>
                </div>
                <div class="modal-row modal-row-compact" id="preview-full-service-choice" hidden>
                    <span class="modal-label">Service option</span>
                    <div class="segmented-control" id="preview-full-service-segment">
                        <button class="segment-button segment-selected" type="button" data-value="bundle">Bundled fee</button>
                        <button class="segment-button" type="button" data-value="a_la_carte">Individual services</button>
                    </div>
                    <input type="hidden" id="preview-full-service-mode" name="fullServiceMode" value="bundle">
                </div>
                <div class="modal-row modal-row-compact" id="preview-a-la-carte-options" hidden>
                    <span class="modal-label">Individual services</span>
                    <div class="modal-checkboxes">
                        <label class="modal-checkbox-item">
                            <input class="modal-checkbox" type="checkbox" value="cutlery">
                            Cutlery
                        </label>
                        <label class="modal-checkbox-item">
                            <input class="modal-checkbox" type="checkbox" value="staffing">
                            Staffing
                        </label>
                        <label class="modal-checkbox-item">
                            <input class="modal-checkbox" type="checkbox" value="setup">
                            Setup
                        </label>
                        <label class="modal-checkbox-item">
                            <input class="modal-checkbox" type="checkbox" value="cleanup">
                            Cleanup
                        </label>
                    </div>
                </div>
                <p class="modal-error" id="preview-a-la-carte-error" role="alert"></p>
                <div class="modal-actions">
                    <button class="btn-secondary" type="button" id="preview-fees-cancel">Cancel</button>
                    <button class="btn-primary" type="submit">Preview</button>
                </div>
            </form>
        </div>
    </div>

    <script src="fees-store.js"></script>
    <script src="taxes-script.js"></script>
</body>
</html>
